PASO 4.2: Verificar outputs esperados DespuÃ©s del build, deberÃ­as ver en dist/assets/: âœ… vendor-react-[hash].js (~40 KiB) - React separado âœ… vendor-icons-[hash].js (~15 KiB) - Lucide icons âœ… services-section-[hash].js (~4 KiB) - Lazy chunk âœ… about-section-[hash].js (~4 KiB) - Lazy chunk ... (otros chunks)

El bundle principal (index-[hash].js) debe bajar de 121 KiB a ~60 KiB.

PASO 4.3: Test local

npm run preview
Abre DevTools â†’ Network:

La imagen hero debe tener "Priority: Highest"
Los chunks de secciones solo deben cargar al hacer scroll
PASO 4.4: Deploy y re-test PageSpeed

Deploy a producciÃ³n
Espera 2 minutos (cachÃ© CDN)
Test: https://pagespeed.web.dev/
Objetivo: 95-100/100
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” RESULTADOS ESPERADOS â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” MÃ©trica | Antes | DespuÃ©s | Mejora â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€|--------|---------|-------- PuntuaciÃ³n | 87 | 95-98 | +8-11 FCP | 2.5s | 1.2s | -52% LCP | 3.5s | 1.8s | -49% Bundle inicial | 121 KB | 60 KB | -50% CSS bloqueante | 460ms | 0ms | -100%

ERRORES COMUNES Y SOLUCIONES: âŒ "Cannot find module 'critters'" â†’ Ejecuta: npm install --save-dev critters âŒ Build falla con "manualChunks" â†’ Verifica que la sintaxis sea exacta (function, no objeto) âŒ Lazy chunks no se cargan â†’ AsegÃºrate que Suspense tenga fallback vÃ¡lido âŒ PreLoad no funciona â†’ Usa la soluciÃ³n dinÃ¡mica (CriticalPreload component)

CONFIRMACIÃ“N DE Ã‰XITO: Ejecuta este comando despuÃ©s del deploy: curl -I https://grupotranservica.com | grep "cache"

DeberÃ­as ver cabeceras de cachÃ© activas.

FIN DEL PROMPT

---
## ğŸ“‹ CHECKLIST DE IMPLEMENTACIÃ“N
Puedes verificar cada paso con este checklist:
- [ ] **Paso 1.1**: `npm install --save-dev critters` ejecutado sin errores
- [ ] **Paso 1.2**: `vite.config.ts` actualizado con configuraciÃ³n CSS
- [ ] **Paso 2.1**: `src/App.tsx` convertido a lazy loading
- [ ] **Paso 2.2**: `vite.config.ts` tiene `manualChunks` configurado
- [ ] **Paso 3.1**: `index.html` tiene preconnects y preloads optimizados
- [ ] **Paso 3.2**: `src/components/critical-preload.tsx` creado
- [ ] **Paso 3.3**: `CriticalPreload` importado en `App.tsx`
- [ ] **Paso 4.1**: `npm run build` completa sin errores
- [ ] **Paso 4.2**: Verificar tamaÃ±os de chunks en `dist/assets/`
- [ ] **Paso 4.3**: `npm run preview` funciona correctamente
- [ ] **Paso 4.4**: Deploy + PageSpeed test muestra 95+
---
