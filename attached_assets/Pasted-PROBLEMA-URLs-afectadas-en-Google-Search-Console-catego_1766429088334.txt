PROBLEMA
URLs afectadas en Google Search Console:

/category/movimientos/ (CategorÃ­a vacÃ­a/soft 404)
/about-us-slider-2-bg-jpg/ (Imagen indexada como pÃ¡gina)
/11/ (URL numÃ©rica huÃ©rfana)
/transporte-terrestre... (PÃ¡ginas vÃ¡lidas no rastreadas)
/services/izamiento-carga/ (No rastreada frecuentemente)
/contacto/ (Problemas de rastreo)
/?_escaped_fragment_= (AJAX crawling deprecado)
ðŸ“ ARCHIVOS GENERADOS (8 archivos)
ðŸ“– DocumentaciÃ³n (2 archivos)
PROMPT_REPARACION_INDEXACION_TRANSERVICA.md

AnÃ¡lisis completo de cada problema
Soluciones detalladas por tipo
Plan de acciÃ³n en 4 fases
Testing y validaciÃ³n
GUIA_RAPIDA_TRANSERVICA.md â­

Quick start en 15 minutos
Checklist paso a paso
Troubleshooting
Comandos Ãºtiles
ðŸ’» CÃ³digo (3 archivos)
code/transervica-indexation-fixes.php

âœ… FIX 1: Redirigir categorÃ­as vacÃ­as
âœ… FIX 2: Redirigir attachments al padre
âœ… FIX 3: Redirigir URLs huÃ©rfanas
âœ… FIX 4: Eliminar fragmentos escapados
âœ… FIX 5: Noindex archives
âœ… FIX 6: Canonical tags
âœ… FIX 7: Limpiar sitemap
code/.htaccess.transervica

Redirects de URLs numÃ©ricas
EliminaciÃ³n de fragmentos escapados
HTTPS forzado
Cache headers
Seguridad
code/robots.txt.transervica

Bloqueo de directorios WordPress
Bloqueo de parÃ¡metros problemÃ¡ticos
Bloqueo de taxonomÃ­as
ConfiguraciÃ³n de sitemap
ðŸ”§ Scripts de Testing (3 archivos)
scripts/verify-transervica-urls.sh (Linux/Mac)

Verifica estado HTTP de todas las URLs
Comprueba redirects (301)
Verifica pÃ¡ginas activas (200)
Revisa robots.txt y sitemap
Output colorizado
scripts/verify-transervica-urls.bat (Windows)

Misma funcionalidad que .sh
Compatible con cmd.exe
No requiere bash
scripts/audit-transervica.py (Todas las plataformas)

AuditorÃ­a completa con requests
Detecta noindex y canonical
Genera CSV con resultados
Genera HTML con reporte visual
MÃ©tricas detalladas
ðŸš€ QUICK START
OpciÃ³n 1: ImplementaciÃ³n Completa (15 min)
# 1. Backup
# Descargar: functions.php, .htaccess, robots.txt
# 2. Implementar PHP
# Copiar code/transervica-indexation-fixes.php
# Pegar en functions.php (al final)
# 3. Actualizar .htaccess
# Reemplazar con code/.htaccess.transervica
# 4. Actualizar robots.txt
# Subir code/robots.txt.transervica
# 5. Verificar
# Windows: scripts\verify-transervica-urls.bat
# Linux/Mac: ./scripts/verify-transervica-urls.sh
# Python: python scripts/audit-transervica.py
# 6. Search Console
# Solicitar re-indexaciÃ³n de URLs arregladas
OpciÃ³n 2: Solo Testing (Si ya implementaste)
# Ejecutar script de verificaciÃ³n
python scripts/audit-transervica.py
# Revisar reporte HTML generado
# transervica_audit_YYYYMMDD_HHMMSS.html
ðŸ“Š RESULTADOS ESPERADOS
Antes
URL	Estado	Problema
/category/movimientos/	Excluida	Soft 404
/about-us-slider-2-bg-jpg/	Indexada	Attachment como pÃ¡gina
/11/	Error 404	URL huÃ©rfana
/?_escaped_fragment_=	Indexada	AJAX deprecado
DespuÃ©s
URL	Estado	SoluciÃ³n
/category/movimientos/	301 â†’ /servicios/	Redirigida
/about-us-slider-2-bg-jpg/	301 â†’ padre	Redirigida
/11/	301 â†’ /servicios/	Redirigida
/?_escaped_fragment_=	301 â†’ URL limpia	Redirigida
MÃ©tricas Search Console
PÃ¡ginas excluidas: â†“ ReducciÃ³n esperada
PÃ¡ginas vÃ¡lidas: â†‘ Aumento esperado
Errores de rastreo: â†’ 0
âœ… CHECKLIST RÃPIDO
ImplementaciÃ³n
 Backup creado
 PHP implementado en functions.php
 .htaccess actualizado
 robots.txt actualizado
 Cache limpiado
VerificaciÃ³n
 Scripts ejecutados
 Todos los redirects = 301
 PÃ¡ginas activas = 200
 robots.txt accesible
 Sitemap accesible
Search Console
 Re-indexaciÃ³n solicitada
 URLs problemÃ¡ticas eliminadas (opcional)
 Sitemap reenviado
ðŸŽ“ SOLUCIONES IMPLEMENTADAS
âœ… FIX 1: CategorÃ­as VacÃ­as
// Redirige categorÃ­as sin posts
if (is_category() && !have_posts()) {
    wp_redirect(home_url('/servicios/'), 301);
}
âœ… FIX 2: Attachments
// Redirige imÃ¡genes al post padre
if (is_attachment()) {
    wp_redirect(get_permalink($post->post_parent), 301);
}
âœ… FIX 3: URLs HuÃ©rfanas
// Redirige /11/, /12/, etc.
if (preg_match('/^\/\d+\/$/', $request_uri)) {
    wp_redirect(home_url('/servicios/'), 301);
}
âœ… FIX 4: Fragmentos Escapados
// Elimina ?_escaped_fragment_
if (isset($_GET['_escaped_fragment_'])) {
    wp_redirect(remove_query_arg('_escaped_fragment_'), 301);
}
ðŸ”§ SCRIPTS CREADOS
1. Bash Script (Linux/Mac)
./scripts/verify-transervica-urls.sh
Output:

âœ… https://transervica.net/11/
   HTTP 301 â†’ https://transervica.net/servicios/
âœ… https://transervica.net/
   HTTP 200
Resumen: 8 OK | 0 FALLOS
2. Batch Script (Windows)
scripts\verify-transervica-urls.bat
Output: CÃ³digos HTTP de cada URL

3. Python Script (Universal)
python scripts/audit-transervica.py
Genera:

transervica_audit_20241222.csv
transervica_audit_20241222.html
ðŸ“ž SOPORTE
