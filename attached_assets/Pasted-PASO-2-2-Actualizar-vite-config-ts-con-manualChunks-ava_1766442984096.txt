PASO 2.2: Actualizar vite.config.ts con manualChunks avanzado Agrega esta configuraciÃ³n para separar lucide-react icons:

build: {
  rollupOptions: {
    output: {
      manualChunks(id) {
        // Separar node_modules por paquete
        if (id.includes('node_modules')) {
          if (id.includes('react') || id.includes('react-dom')) {
            return 'vendor-react';
          }
          if (id.includes('@tanstack/react-query')) {
            return 'vendor-query';
          }
          if (id.includes('lucide-react')) {
            return 'vendor-icons';
          }
          // Resto de node_modules
          return 'vendor-misc';
        }
      },
    },
  },
},
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” PROBLEMA #3: RETRASO DE CARGA DEL LCP (IMPACTO: -3 PUNTOS) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” Recurso LCP: /assets/youtube-hero-thumbnail-BhoNah7i.webp Retraso actual: 450ms (se carga despuÃ©s del CSS) SituaciÃ³n: Ya tiene fetchpriority="high" pero no tiene preload

SOLUCIÃ“N: Preload explÃ­cito + preconnects optimizados

PASO 3.1: Actualizar index.html Reemplaza el completo con esta versiÃ³n optimizada:

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- ğŸ”¥ PRECONNECTS: Acelera fuentes de Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- ğŸ”¥ PRELOAD CRÃTICO #1: Fuente principal -->
    <link 
      rel="preload" 
      href="https://fonts.gstatic.com/s/inter/v20/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7.woff2" 
      as="font" 
      type="font/woff2" 
      crossorigin 
    />
    
    <!-- ğŸ”¥ PRELOAD CRÃTICO #2: Imagen Hero (LCP) -->
    <link 
      rel="preload" 
      fetchpriority="high"
      as="image" 
      href="/assets/youtube-hero-thumbnail-BhoNah7i.webp" 
      type="image/webp"
    />
    
    <!-- CSS Principal (se inline automÃ¡ticamente con Critters) -->
    <link rel="stylesheet" href="/src/index.css" />
    
    <title>TRANSERVICA - Transporte de Cargas Excepcionales Venezuela</title>
    <meta name="description" content="Transporte especializado de cargas pesadas y excepcionales. MÃ¡s de 40 aÃ±os moviendo hasta 1,100 toneladas con seguridad y experiencia." />
    
    <!-- Open Graph -->
    <meta property="og:title" content="TRANSERVICA - Transporte de Cargas Excepcionales" />
    <meta property="og:description" content="LÃ­deres en transporte pesado venezolano. Experiencia comprobada en proyectos industriales." />
    <meta property="og:image" content="https://grupotranservica.com/og-image.jpg" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="es_VE" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
PROBLEMA: El path "/assets/youtube-hero-thumbnail-BhoNah7i.webp" cambia en cada build.

PASO 3.2: Crear un componente crÃ­tico para el preload dinÃ¡mico Crea: src/components/critical-preload.tsx

import { useEffect } from 'react';
export default function CriticalPreload() {
  useEffect(() => {
    // Preload dinÃ¡mico de la imagen hero
    const link = document.createElement('link');
    link.rel = 'preload';
    link.as = 'image';
    link.fetchPriority = 'high';
    link.type = 'image/webp';
    
    // Busca la imagen del hero en el DOM
    const heroImg = document.querySelector('img[alt*="Video corporativo"]');
    if (heroImg) {
      link.href = heroImg.src;
      document.head.appendChild(link);
    }
  }, []);
  
  return null;
}
PASO 3.3: Importar en App.tsx

import CriticalPreload from './components/critical-preload';
function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <CriticalPreload />
      {/* resto del cÃ³digo... */}
    </QueryClientProvider>
  );
}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” PASO FINAL: BUILD Y VERIFICACIÃ“N â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PASO 4.1: Rebuild de producciÃ³n

npm run build